# í…ŒìŠ¤íŒ… ê°€ì´ë“œë¼ì¸

## TDD ì›ì¹™

1. **ì¸í„°í˜ì´ìŠ¤/íƒ€ì… ë¨¼ì € ì •ì˜**
2. **ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±** (RED)
3. **ìµœì†Œ ì½”ë“œ êµ¬í˜„** (GREEN)
4. **ë¦¬íŒ©í† ë§** (REFACTOR)

## ì»¤ë²„ë¦¬ì§€ ìš”êµ¬ì‚¬í•­

- ìµœì†Œ 80% ì»¤ë²„ë¦¬ì§€
- ìƒˆ ì½”ë“œëŠ” ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸ í¬í•¨
- ë²„ê·¸ ìˆ˜ì •: ì¬í˜„ í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±

## í…ŒìŠ¤íŠ¸ ì œì™¸ ì¡°ê±´ (Skip Conditions)

ë‹¤ìŒ ê²½ìš° í…ŒìŠ¤íŠ¸ë¥¼ ìƒëµí•  ìˆ˜ ìˆìŒ:
- **í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë¯¸ì„¤ì •** (`jest.config`, `vitest.config` ë“± ì—†ìŒ)
- **í”„ë¡œí† íƒ€ì…/POC í”„ë¡œì íŠ¸** (ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œëœ ê²½ìš°)
- **í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ ì—†ëŠ” ë ˆê±°ì‹œ ì½”ë“œë² ì´ìŠ¤**
- **ì„¤ì •/ë¬¸ì„œ ë³€ê²½ë§Œ ìˆëŠ” ê²½ìš°** (ì½”ë“œ ë¡œì§ ë³€ê²½ ì—†ìŒ)

> **ì°¸ê³ **: í…ŒìŠ¤íŠ¸ ìƒëµ ì‹œ ì»¤ë°‹ ë©”ì‹œì§€ ë˜ëŠ” PR ì„¤ëª…ì— ì‚¬ìœ  ê¸°ë¡ í•„ìš”.

## í…ŒìŠ¤íŠ¸ ìœ í˜•

| ìœ í˜• | ëŒ€ìƒ | ë„êµ¬ |
|------|------|------|
| Unit | ìœ í‹¸ë¦¬í‹°, ìˆœìˆ˜ í•¨ìˆ˜ | Jest, Vitest |
| Integration | API ì—”ë“œí¬ì¸íŠ¸ | Supertest |
| E2E | í•µì‹¬ ì‚¬ìš©ì íë¦„ | Playwright, Cypress |

## Acceptance Tests (ì™„ë£Œ ê¸°ì¤€)

ê³„íš ë‹¨ê³„ì—ì„œ context.mdì— ì •ì˜:

### ëª…ëª… ê·œì¹™
- íŒŒì¼: `{Component}.test.ts(x)` ë˜ëŠ” `{feature}.integration.test.ts`
- í…ŒìŠ¤íŠ¸ ID: `T{N}` (context.mdì—ì„œ ì¶”ì ìš©)

### ìµœì†Œ ì»¤ë²„ë¦¬ì§€
| ìœ í˜• | ìµœì†Œ ê°œìˆ˜ |
|------|----------|
| Unit (ì»´í¬ë„ŒíŠ¸) | ê¸°ëŠ¥ë‹¹ 1ê°œ |
| Unit (ìœ í‹¸/íƒ€ì…) | í•¨ìˆ˜ë‹¹ 1ê°œ |
| Integration (API) | ì—”ë“œí¬ì¸íŠ¸ë‹¹ 1ê°œ |

### ìƒíƒœ í‘œê¸°
- ğŸ”´ PENDING: í…ŒìŠ¤íŠ¸ ë¯¸ì‘ì„±
- ğŸ”´ RED: í…ŒìŠ¤íŠ¸ ì‘ì„±ë¨, FAIL
- ğŸŸ¢ PASS: í…ŒìŠ¤íŠ¸ í†µê³¼
- âšª SKIP: Skip Conditions ì ìš©

## í…ŒìŠ¤íŠ¸ ë„¤ì´ë° ì»¨ë²¤ì…˜

```typescript
// describe-it íŒ¨í„´
describe('UserService', () => {
  it('should return user by id', () => { })
  it('should throw error when user not found', () => { })
})
```

## Moonshot ì›Œí¬í”Œë¡œìš° ì—°ë™

í…ŒìŠ¤íŒ…ì€ moonshot-orchestrator ì›Œí¬í”Œë¡œìš°ì— ë‹¤ìŒê³¼ ê°™ì´ í†µí•©ë©ë‹ˆë‹¤:

- **simple**: `implementation-runner` â†’ `verify-changes.sh`
- **medium**: ... â†’ `codex-review-code` (í…ŒìŠ¤íŠ¸ ê²€ì¦ í¬í•¨)
- **complex**: ... â†’ `codex-review-code` â†’ `codex-test-integration` (ì „ì²´ í…ŒìŠ¤íŠ¸ ê²€ì¦)

### ìë™ íŠ¸ë¦¬ê±° ì¡°ê±´

| ì¡°ê±´ | ì‹¤í–‰ ìŠ¤í‚¬ |
|------|----------|
| complexity == complex | codex-test-integration |
| API ë³€ê²½ í¬í•¨ | codex-test-integration |
| ì»¤ë²„ë¦¬ì§€ < 80% | ì¶”ê°€ í…ŒìŠ¤íŠ¸ ìš”ì²­ |
