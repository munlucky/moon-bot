schemaVersion: "1.0"
request:
  userMessage: "Implementation Task: Phase 4 Replanner Logic - Implement the Replanner system for resilient agent execution."
  taskType: feature
  keywords:
    - implementation
    - replanner
    - failure recovery
    - resilient agent
    - alternative tools
    - path replanning
repo:
  gitBranch: "main"
  gitStatus: "clean"
  openFiles: []
  changedFiles:
    - src/agents/replanner/types.ts
    - src/agents/replanner/FailureAnalyzer.ts
    - src/agents/replanner/AlternativeSelector.ts
    - src/agents/replanner/PathReplanner.ts
    - src/agents/replanner/RecoveryLimiter.ts
    - src/agents/replanner.ts
    - src/agents/executor.ts
    - src/agents/planner.ts
    - src/tools/runtime/ToolRuntime.ts
signals:
  hasContextMd: true
  hasPendingQuestions: false
  requirementsClear: true
  implementationReady: true
  implementationComplete: true
  hasMockImplementation: false
  apiSpecConfirmed: true
  reactProject: false
estimates:
  estimatedFiles: 9
  estimatedLines: 750
  estimatedTime: 2h
phase: complete
complexity: medium
missingInfo: []
decisions:
  recommendedAgents:
    - pre-flight-check
    - implementation-runner
    - completion-verifier
    - codex-review-code
  skillChain:
    - pre-flight-check
    - implementation-runner
    - completion-verifier
    - codex-review-code
    - efficiency-tracker
    - session-logger
  parallelGroups: []
artifacts:
  tasksRoot: ".claude/docs/tasks"
  contextDocPath: ".claude/docs/tasks/phase4-replanner/context.md"
  verificationScript: .claude/agents/verification/verify-changes.sh
tokenBudget:
  specSummaryTrigger: 2000
  splitTrigger: 5
  contextMaxTokens: 8000
  warningThreshold: 0.8
projectMemory:
  projectId: "moon-bot"
  boundaryStatus: "not_checked"
  boundary:
    violations: []
    needsApproval: []
    reminders: []
  relatedConventions: []
  lastChecked: null
notes:
  - Context document exists with detailed requirements
  - 6 files created, 3 files modified
  - Alternative tool mapping defined
  - Acceptance tests T1-T7 defined
  - Build verified: SUCCESS
