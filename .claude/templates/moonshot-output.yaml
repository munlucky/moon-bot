# Moonshot Agent ì¶œë ¥ í…œí”Œë¦¿ (YAML í˜•ì‹)
# JSON ëŒ€ë¹„ 20-30% í† í° ì ˆê° íš¨ê³¼

taskType: "feature | modification | bugfix | refactor"
complexity: "simple | medium | complex"
phase: "planning | implementation | integration | verification"
estimatedTime: "1h"
estimatedFiles: 1
riskLevel: "low | medium | high"

requiredAgents:
  - "RequirementsAnalyzer"
  - "ContextBuilder"
  - "ImplementationAgent"
  - "VerificationAgent"

missingInfo:
  - category: "Screen Definition"
    priority: "HIGH"
    question: "Question text..."
    reason: "Why needed"

recommendations:
  - "Recommendation 1"

# ğŸ¯ í† í° íš¨ìœ¨í™”: ê° ì—ì´ì „íŠ¸ë³„ ìµœì†Œ í˜ì´ë¡œë“œ
agentPayloads:
  RequirementsAnalyzer:
    task: "ì‘ì—… 1ì¤„ ìš”ì•½"
    userRequest: "ì›ë³¸ ìš”ì²­ (50ì ì´ë‚´)"
    projectPatterns:
      - "íŒ¨í„´1"
      - "íŒ¨í„´2"
    outputFile: ".claude/features/xxx/agreement.md"

  ContextBuilder:
    agreementFile: ".claude/features/xxx/agreement.md"
    relevantFilePaths:
      - "src/pages/xxx/*.tsx"
    outputFile: ".claude/features/xxx/context.md"

  CodexValidator:
    mode: "readonly"
    contextFile: ".claude/features/xxx/context.md"
    reviewFocus:
      - "ì—£ì§€ ì¼€ì´ìŠ¤"
      - "íƒ€ì… ì•ˆì •ì„±"
    relevantFilePaths:
      - "src/pages/xxx/*.tsx"
    outputFile: ".claude/features/xxx/validator-feedback.md"

  ImplementationAgent:
    mode: "write"
    contextFile: ".claude/features/xxx/context.md"
    targetFiles:
      - "src/pages/xxx/Page.tsx"
      - "src/api/xxx.ts"
    patterns:
      entityRequest: "íƒ€ì… ë¶„ë¦¬ íŒ¨í„´"
      apiProxy: "axios ë˜í¼ íŒ¨í„´"

  VerificationAgent:
    agreementFile: ".claude/features/xxx/agreement.md"
    implementedFiles:
      - "src/pages/xxx/Page.tsx"
    verificationCommands:
      - "npm run typecheck"
      - "npm run build"

# ğŸ¯ í† í° ìµœì í™” ë©”íƒ€ ì •ë³´
tokenOptimization:
  strategy: "minimal-context"
  format: "yaml"  # JSON ëŒ€ë¹„ 20-30% í† í° ì ˆê°
  sharedSnapshot:
    featureName: "ê¸°ëŠ¥ëª…"
    agreementFile: ".claude/features/xxx/agreement.md"
    contextFile: ".claude/features/xxx/context.md"
    patterns:
      pattern1: "ì„¤ëª…"
    relevantFilePaths:
      - "ê²½ë¡œë§Œ, ë‚´ìš© X"

  notes:
    - "íŒŒì¼ ë‚´ìš©ì€ ìŠ¤ëƒ…ìƒ·ì— í¬í•¨í•˜ì§€ ì•ŠìŒ"
    - "ì—ì´ì „íŠ¸ê°€ í•„ìš”ì‹œ ì§ì ‘ Read í˜¸ì¶œ"
    - "ì´ì „ ë‹¨ê³„ ì¶œë ¥ íŒŒì¼ ê²½ë¡œë§Œ ì „ë‹¬"
    - "ë³‘ë ¬ ì‹¤í–‰ ì‹œ ê³µí†µ ìŠ¤ëƒ…ìƒ· 1íšŒë§Œ ì¤€ë¹„"
    - "YAML ì‚¬ìš©ìœ¼ë¡œ JSON ëŒ€ë¹„ 20-30% í† í° ì ˆê°"
